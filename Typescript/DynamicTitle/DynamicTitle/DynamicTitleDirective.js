(()=>{"use strict";var e={927:e=>{function t(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=e.apply(r,n);function c(e){t(i,a,o,c,l,"next",e)}function l(e){t(i,a,o,c,l,"throw",e)}c(void 0)}))}}},378:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},861:e=>{function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t},883:(e,t,r)=>{e.exports=r(751)},751:(e,t,r)=>{e=r.nmd(e);var n=r(378)(r(861)),a=function(e){var t,r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new _(n||[]);return o(i,"_invoke",{value:O(e,r,c)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d="suspendedStart",g="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function x(){}var k={};s(k,c,(function(){return this}));var w=Object.getPrototypeOf,L=w&&w(w(I([])));L&&L!==r&&a.call(L,c)&&(k=L);var S=x.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,i,c,l){var u=h(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"===(0,n.default)(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,l)}))}l(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function O(e,t,r){var n=d;return function(a,o){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=V(i,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=h(e,t,r);if("normal"===l.type){if(n=r.done?v:g,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=v,r.method="throw",r.arg=l.arg)}}}function V(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,V(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(e){if(e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(a.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return b.prototype=x,o(S,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=s(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},E(T.prototype),s(T.prototype,l,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new T(f(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(S),s(S,u,"Generator"),s(S,c,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}("object"===(0,n.default)(e)?e.exports:{});try{regeneratorRuntime=a}catch(e){"object"===("undefined"==typeof globalThis?"undefined":(0,n.default)(globalThis))?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}(()=>{r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e=r(378),t=e(r(883)),n=e(r(927));angular.module("arxivar.plugins.directives").directive("dynamictitledirective",["workflowResourceService","arxivarUserServiceCreator","arxivarNotifierService","taskV2PluginService","DynamicTitle",function(e,r,a,o,i){return{restrict:"E",scope:{instanceId:"@",taskDto:"=?",widgetSettings:"=?"},templateUrl:"./Scripts/plugins/DynamicTitle/DynamicTitle.html",link:function(){var c=(0,n.default)(t.default.mark((function c(l,u){var s,f,h,d,g,p,v,y;return t.default.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!((s=u.find("div.arx-"+i.plugin.name.toLowerCase())).length>0)){c.next=26;break}return s.addClass(l.instanceId),l.languages=["IT","ES","FR","DE","RO","EN"],c.next=6,e.get("v1/task-operations/task/".concat(l.taskDto.id,"/variables"),{hideUserMessageError:!1,openloader:!1});case 6:return h=c.sent,d=h.find((function(e){return"BooleanVariable"===e.variableDefinition.configuration.name})),g={IT:{title:"Titolo in italiano",selectLanguage:"Seleziona una lingua",change:"Cambia",unlock:"Sblocca esito",lock:"Blocca esito",success:"Variabile aggiornata in:"},ES:{title:"Título en español",selectLanguage:"Selecciona un idioma",change:"Cambiar",unlock:"Desbloquear resultado",lock:"Bloquear resultado",success:"Variable actualizada en:"},FR:{title:"Titre en français",selectLanguage:"Choisissez une langue",change:"Changer",unlock:"Débloquer résultat",lock:"Bloquer résultat",success:"Variable mise à jour en:"},DE:{title:"Titel auf Deutsch",selectLanguage:"Wähle eine Sprache",change:"Ändern",unlock:"Ergebnis freischalten",lock:"Ergebnis sperren",success:"Variable aktualisiert in:"},RO:{title:"Titlu în română",selectLanguage:"Selectează o limbă",change:"Schimbă",unlock:"Deblochează rezultat",lock:"Blochează rezultat",success:"Variabila actualizată in:"},EN:{title:"Title in English",selectLanguage:"Select a language",change:"Change",unlock:"Unlock outcome",lock:"Lock outcome",success:"Variable updated in:"}},c.next=11,r.create();case 11:return p=c.sent,v=p.getLang(),l.languageSelected=l.languages.includes(v)?v:"EN",l.titleTranslated=function(e){var t;return null===(t=g[e])||void 0===t?void 0:t.title},l.selectLanguageText=g[l.languageSelected].selectLanguage,l.changeText=g[l.languageSelected].change,l.variableValue=d.value,l.lockUnlockText=l.variableValue?null===(f=g[l.languageSelected])||void 0===f?void 0:f.lock:g[l.languageSelected].unlock,l.successText=g[l.languageSelected].success,o.updateWidgetSettings(i.plugin.requiredSettings.id,l.instanceId,"title",l.titleTranslated(l.languageSelected)),l.changeLanguage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EN";o.updateWidgetSettings(i.plugin.requiredSettings.id,l.instanceId,"title",l.titleTranslated(e)),l.selectLanguageText=g[e].selectLanguage,l.changeText=g[e].change,l.lockUnlockText=l.variableValue?g[e].lock:g[e].unlock,l.successText=g[e].success,l.languageSelected=e},c.next=24,e.get("v1/task-operations/task/".concat(l.taskDto.id),{hideUserMessageError:!1,openloader:!1});case 24:y=c.sent,l.forceUpdate=(0,n.default)(t.default.mark((function r(){var n,i,c;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={operationId:y[0].id,processId:l.taskDto.processTaskInfo.id,processObjectId:l.taskDto.id,setVariables:[{diagramVarId:d.variableDefinition.id,variableType:d.variableType,value:!l.variableValue,id:d.id}]},t.prev=1,t.next=4,e.save("v1/task-operations/execute/set-variables",n,{hideUserMessageError:!1,openloader:!1});case 4:o.forceUpdateOutcomesByTaskId(l.taskDto.id),l.variableValue=!l.variableValue,l.lockUnlockText=l.variableValue?null===(i=g[l.languageSelected])||void 0===i?void 0:i.lock:null===(c=g[l.languageSelected])||void 0===c?void 0:c.unlock,a.notifySuccess("".concat(l.successText," ").concat(l.variableValue)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a.notifyError(t.t0);case 13:case"end":return t.stop()}}),r,null,[[1,10]])})));case 26:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}}])})()})();
//# sourceMappingURL=DynamicTitleDirective.js.map